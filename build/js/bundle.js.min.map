{"version":3,"sources":["app.js"],"names":["pagina","FORMULARIO","document","querySelector","NOMBRE","fecha","hora","BOTON","cita","nombre","servicios","iniciar","disabled","addEventListener","validarFormulario","cambiar","after","before","botones","mostrarResumen","nombreCita","fechaCita","fechaAnterior","horaCita","e","target","value","length","style","borderColor","mostrar","seccion","classList","remove","add","tabs","querySelectorAll","forEach","enlace","preventDefault","parseInt","dataset","paso","async","resultado","fetch","db","json","servicio","id","precio","titulo","createElement","textContent","moneda","service","idServicio","onclick","seleccionar","appendChild","error","console","log","elemento","tagName","parentElement","contains","eliminarServicio","agregarServicio","firstElementChild","nextElementSibling","filter","servicioBj","paginaSiguiente","paginaAnterior","resumen","firstChild","removeChild","Object","values","includes","no","headingCita","innerHTML","servicioscita","heading","cantidad","contenedorServicio","texto","precioServicio","totalServicio","split","trim","total","nombreTexto","alerta","alert","mensaje","tipo","ALERTA","setTimeout","dia","Date","getUTCDay","inputFecha","fechaActual","year","getFullYear","mes","getMonth","getDate","fechaDeshabilitar","min","hr"],"mappings":"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","file":"bundle.js","sourcesContent":["let pagina = 1;\r\n\r\nconst FORMULARIO = document.querySelector('#formulario');\r\nconst NOMBRE = document.querySelector('#nombre');\r\nconst fecha = document.querySelector('#fecha');\r\nconst hora = document.querySelector('#hora');\r\nconst BOTON = document.querySelector('#registrar');\r\n\r\nconst cita = {\r\n    nombre: '',\r\n    fecha: '',\r\n    hora: '',\r\n    servicios: []\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    servicios();\r\n\r\n    //Resalta el div actual segun el tab que se presiona\r\n    mostrar();\r\n\r\n    iniciar();\r\n});\r\n\r\nfunction iniciar(){\r\n    //Deshabilitar boton de enviar\r\n    BOTON.disabled = true;\r\n\r\n    //FORMULARIO\r\n    NOMBRE.addEventListener('blur', validarFormulario);\r\n    // fecha.addEventListener('blur', validarFormulario);\r\n    // hora.addEventListener('blur', validarFormulario);\r\n\r\n    //Oculta o muestra una seccion segun el tab al que se presiona\r\n    cambiar();\r\n\r\n    //Paginacion\r\n    after();\r\n    before();\r\n\r\n    //Comprobar la pagina actual para ocultar o mostrar la paginacion\r\n    botones();\r\n\r\n    //Muestra el resumen de la cita o mensaje de error\r\n    mostrarResumen();\r\n\r\n    //llenar el arreglo con los valores\r\n    nombreCita();\r\n\r\n    //Validar fecha y almacenar\r\n    fechaCita();\r\n\r\n    //Deshabilitar fecha anterior\r\n    fechaAnterior();\r\n\r\n    //Validar la hora\r\n    horaCita();\r\n}\r\n\r\nfunction validarFormulario(e){\r\n    if( e.target.value.length > 0 ) {\r\n        // const error = document.querySelector('p.error');\r\n        // if( error ){\r\n        //     error.remove();\r\n        // }\r\n        // fecha.addEventListener('input', e => {\r\n        //     const dia = new Date(e.target.value).getUTCDay();\r\n\r\n        //     if( [0].includes(dia) ) {\r\n        //         e.target.style.borderColor = 'red';\r\n        //     }\r\n        // });\r\n        \r\n        e.target.style.borderColor = 'green';\r\n    }else{\r\n        \r\n        e.target.style.borderColor = 'red';\r\n    }\r\n\r\n    if( NOMBRE.value != ''){\r\n        BOTON.disabled = false;\r\n    }\r\n}\r\n\r\nfunction mostrar(){\r\n    //Eliminar la seccion anterior\r\n    const seccion = document.querySelector('.mostrar-seccion');\r\n    if( seccion ){\r\n        seccion.classList.remove('mostrar-seccion');\r\n    }\r\n\r\n    const seccionActual = document.querySelector(`#paso-${pagina}`);\r\n    seccionActual.classList.add('mostrar-seccion');\r\n\r\n    //Eliminar la clase de el tab actual\r\n    const tabs = document.querySelector('.tabs .actual');\r\n    if(tabs){\r\n        tabs.classList.remove('actual');\r\n    }\r\n\r\n    const tab = document.querySelector(`[data-paso=\"${pagina}\"]`);\r\n    tab.classList.add('actual');\r\n}\r\n\r\nfunction cambiar(){\r\n    const enlaces = document.querySelectorAll('.tabs button');\r\n\r\n    enlaces.forEach( enlace => {\r\n        enlace.addEventListener('click', e => {\r\n            e.preventDefault();\r\n            pagina = parseInt(e.target.dataset.paso);\r\n\r\n            mostrar();\r\n\r\n            botones();\r\n        });\r\n    });\r\n}\r\n\r\nasync function servicios() {\r\n    try {\r\n        const resultado = await fetch('./servicios.json');\r\n        const db = await resultado.json();\r\n        \r\n        const { servicios } = db;\r\n        \r\n        servicios.forEach( servicio => {\r\n            const { id, nombre, precio } = servicio;\r\n\r\n            //DOM scripting\r\n            //Titulo\r\n            const titulo = document.createElement('P');\r\n            titulo.textContent = nombre;\r\n            titulo.classList.add('nombre-servicio');\r\n\r\n            //Precio\r\n            const moneda = document.createElement('P');\r\n            moneda.textContent = `$ ${precio}`;\r\n            moneda.classList.add('precio-servicio');\r\n\r\n            //Generar el DIV\r\n            const service = document.createElement('DIV');\r\n            service.classList.add('servicio');\r\n            service.dataset.idServicio = id;\r\n            \r\n            //Selecciona un servicio para la cita\r\n            service.onclick = seleccionar;\r\n\r\n            //Inyectar nombre y precio al HTML\r\n            service.appendChild(titulo);\r\n            service.appendChild(moneda);\r\n\r\n            document.querySelector('#servicios').appendChild(service);\r\n        });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction seleccionar(e) {\r\n    let elemento;\r\n\r\n    if(e.target.tagName === 'P'){\r\n        elemento = e.target.parentElement;\r\n    }else {\r\n        elemento = e.target;\r\n    }\r\n\r\n    if( elemento.classList.contains('seleccionado')){\r\n        elemento.classList.remove('seleccionado');\r\n        const id = parseInt( elemento.dataset.idServicio );\r\n\r\n        eliminarServicio(id);\r\n    }else{\r\n        elemento.classList.add('seleccionado');\r\n\r\n        const servicioBj = {\r\n            id: parseInt( elemento.dataset.idServicio),\r\n            nombre: elemento.firstElementChild.textContent,\r\n            precio: elemento.firstElementChild.nextElementSibling.textContent\r\n        }\r\n\r\n        agregarServicio(servicioBj);\r\n    }\r\n}\r\n\r\nfunction eliminarServicio(id){\r\n    const { servicios } = cita;\r\n\r\n    cita.servicios = servicios.filter( servicio => servicio.id != id );\r\n    // console.log(cita);\r\n}\r\n\r\nfunction agregarServicio(servicioBj){\r\n    const { servicios } = cita;\r\n    cita.servicios = [...servicios, servicioBj];\r\n    // console.log(cita);\r\n}\r\n\r\nfunction after(){\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n    paginaSiguiente.addEventListener('click', () => {\r\n        pagina++;\r\n\r\n        botones();\r\n    });\r\n}\r\n\r\nfunction before(){\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    paginaAnterior.addEventListener('click', () => {\r\n        pagina--;\r\n\r\n        botones();\r\n    });\r\n}\r\n\r\nfunction botones(){\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n\r\n    if(pagina === 1){\r\n        if(paginaSiguiente.classList.contains('ocultar')){\r\n            paginaSiguiente.classList.remove('ocultar');\r\n        }\r\n        paginaAnterior.classList.add('ocultar');\r\n    }else if(pagina === 3){\r\n        paginaSiguiente.classList.add('ocultar');\r\n        paginaAnterior.classList.remove('ocultar');\r\n\r\n        mostrarResumen(); //carga el resumen de la cita\r\n    } else {\r\n        paginaSiguiente.classList.remove('ocultar');\r\n        paginaAnterior.classList.remove('ocultar');\r\n    }\r\n\r\n    mostrar();\r\n}\r\n\r\nfunction mostrarResumen() {\r\n    //destructuring\r\n    const { nombre, fecha, hora, servicios } = cita;\r\n    \r\n    //Seleccionar el resumen\r\n    const resumen = document.querySelector('.contenido-resumen');\r\n\r\n    //Limpiar el HTML previo\r\n    while ( resumen.firstChild ) {\r\n        resumen.removeChild( resumen.firstChild );\r\n    }\r\n    \r\n    if( Object.values(cita).includes('')){\r\n        const no = document.createElement('P');\r\n        no.textContent = 'Faltan datos de servicios, hora, fecha o nombre';\r\n        no.classList.add('invalidar-cita');\r\n\r\n        resumen.appendChild(no);\r\n\r\n        return;\r\n    }\r\n\r\n    const headingCita = document.createElement('H3');\r\n    headingCita.textContent = 'Resumen de cita';\r\n\r\n    //Mostrar el resumen\r\n    const nombreCita = document.createElement('P');\r\n    nombreCita.classList.add('fw-bold');\r\n    nombreCita.innerHTML = `<span>Nombre:</span> ${nombre}`;\r\n\r\n    const fechaCita = document.createElement('P');\r\n    fechaCita.classList.add('fw-bold');\r\n    fechaCita.innerHTML = `<span>Fecha:</span> ${fecha}`;\r\n\r\n    const horaCita = document.createElement('P');\r\n    horaCita.classList.add('fw-bold');\r\n    horaCita.innerHTML = `<span>Hora:</span> ${hora}`;\r\n\r\n    const servicioscita = document.createElement('DIV');\r\n    servicioscita.classList.add('resumen-cita');\r\n\r\n    const heading = document.createElement('H3');\r\n    heading.textContent = 'Resumen de servicios';\r\n\r\n    servicioscita.appendChild(heading);\r\n\r\n    let cantidad = 0;\r\n\r\n    servicios.forEach( servicio => {\r\n        const { nombre, precio } = servicio;\r\n\r\n        const contenedorServicio = document.createElement('DIV');\r\n        contenedorServicio.classList.add('contenedor-servicio');\r\n\r\n        const texto = document.createElement('P');\r\n        texto.classList.add('fw-bold');\r\n        texto.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.textContent = precio;\r\n        precioServicio.classList.add('precio', 'fw-bold');\r\n\r\n        const totalServicio = precio.split('$');\r\n        // const total = parseInt( totalServicio[1].trim() )\r\n\r\n        cantidad += parseInt( totalServicio[1].trim() );\r\n\r\n        contenedorServicio.appendChild(texto);\r\n        contenedorServicio.appendChild(precioServicio);\r\n\r\n        servicioscita.appendChild(contenedorServicio);\r\n    });\r\n\r\n    // servicioCita.innerHTML = `<span name=\"servicios\">Nombre:</span> ${servicios}`;\r\n\r\n    resumen.appendChild(headingCita);\r\n    resumen.appendChild(nombreCita);\r\n    resumen.appendChild(fechaCita);\r\n    resumen.appendChild(horaCita);\r\n    resumen.appendChild(servicioscita);\r\n\r\n    const total = document.createElement('P');\r\n    total.classList.add('fw-bold', 'total');\r\n    total.innerHTML = `\r\n        <span>Total a pagar: </span>$ ${cantidad}\r\n    `;\r\n\r\n    resumen.appendChild(total);\r\n}\r\n\r\nfunction nombreCita() {\r\n    const nombreInput = document.querySelector('#nombre');\r\n    nombreInput.addEventListener('input', e => {\r\n        const nombreTexto = e.target.value.trim();\r\n\r\n        //Validacion de que el imput tiene que tener algo\r\n        if( nombreTexto === '' || nombreTexto.length < 3 ) {\r\n            alerta('Nombre no valido', 'error');\r\n        }else {\r\n            const alert = document.querySelector('.alerta');\r\n            if( alert ){\r\n                alert.remove();\r\n            }\r\n            cita.nombre = nombreTexto;\r\n        }\r\n    });\r\n}\r\n\r\nfunction alerta(mensaje, tipo) {\r\n    const alertaprevia = document.querySelector('.alerta');\r\n    if( alertaprevia ){\r\n        return;\r\n    }\r\n\r\n    const ALERTA = document.createElement('DIV');\r\n    ALERTA.textContent = mensaje;\r\n    ALERTA.classList.add('alerta');\r\n\r\n    if(tipo === 'error'){\r\n        ALERTA.classList.add('error');\r\n    }\r\n    \r\n    //Insertar en el HTML\r\n    FORMULARIO.appendChild(ALERTA);\r\n\r\n    setTimeout(() => {\r\n        ALERTA.remove();\r\n    }, 4000);\r\n}\r\n\r\nfunction fechaCita() {\r\n    fecha.addEventListener('input', e => {\r\n        const dia = new Date(e.target.value).getUTCDay();\r\n\r\n        // const opciones = {\r\n        //     year: 'numeric',\r\n        //     month: 'long',\r\n        //     weekday: 'long',\r\n        // }\r\n\r\n        if( [0].includes(dia) ) {\r\n            e.preventDefault();\r\n            fecha.value = '';\r\n            alerta('Los domingos permanece cerrado', 'error');\r\n        }else {\r\n            cita.fecha = fecha.value;\r\n\r\n            \r\n        }\r\n    });\r\n}\r\n\r\nfunction fechaAnterior(){\r\n    const inputFecha = document.querySelector('#fecha');\r\n    const fechaActual = new Date();\r\n    const year = fechaActual.getFullYear();\r\n    const mes = fechaActual.getMonth() + 1;\r\n    const dia = fechaActual.getDate() + 1;\r\n\r\n    //Formatp deseado\r\n    // const fechaDeshabilitar = `${year}-0${mes}-${dia}`;\r\n    const fechaDeshabilitar = `${year}-${mes < 10 ?  `0${mes}`: mes }-${dia <10 ? `0${dia}`:dia}`\r\n    // console.log(fechaDeshabilitar);\r\n\r\n    // console.log(fechaDeshabilitar);\r\n    inputFecha.min = fechaDeshabilitar;\r\n}\r\n\r\nfunction horaCita(){\r\n    hora.addEventListener('input', e => {\r\n        const horaCita = e.target.value;\r\n        const hr = horaCita.split(':');\r\n\r\n        if( hr[0] < 10 || hr[0] > 18 ) {\r\n            alerta('Hora no valida', 'error');\r\n            setTimeout(() => {\r\n                hora.value = '';\r\n            }, 4000);\r\n        }else {\r\n            cita.hora = hora.value;\r\n        }\r\n\r\n        // console.log(cita);\r\n    })\r\n}"]}